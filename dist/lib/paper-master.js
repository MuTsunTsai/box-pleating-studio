!function(){var e;const n=[],s=[],a=[],t=Math.max((null!==(e=navigator.hardwareConcurrency)&&void 0!==e?e:4)-2,1);for(let e=0;e<t;e++)n.push(new Worker("./paper-worker.js")),s.push(!1);onmessage=async function(e){if(e.ports[0]){let t=await function(){let e=s.findIndex((e=>!e));return e>=0?(s[e]=!0,e):new Promise((e=>a.push(e)))}(),o=new MessageChannel;o.port1.onmessage=n=>{e.ports[0].postMessage(n.data),a.length?a.shift()(t):s[t]=!1},n[t].postMessage(e.data,[o.port2])}}}();