"undefined"==typeof Worker?function(){importScripts("paper-core.min.js");let e=new paper.PaperScope;e.setup([128,128]);let t=e.project;t.view.autoUpdate=!1,onmessage=function(e){if(e.ports[0]){let[o,r]=e.data,n=t.importJSON(o),s=t.importJSON(r),a=n.intersect(s),p=[a.exportJSON(),a.area];e.ports[0].postMessage(p)}}}():function(){var e;const t=[],o=[],r=[],n=Math.max((null!==(e=navigator.hardwareConcurrency)&&void 0!==e?e:4)-2,1);for(let e=0;e<n;e++)t.push(new Worker("./paper-worker.js")),o.push(!1);onmessage=async function(e){if(e.ports[0]){let n=await function(){let e=o.findIndex((e=>!e));return e>=0?(o[e]=!0,e):new Promise((e=>r.push(e)))}(),s=new MessageChannel;s.port1.onmessage=t=>{e.ports[0].postMessage(t.data),r.length?r.shift()(n):o[n]=!1},t[n].postMessage(e.data,[s.port2])}}}();